# KIM Session Service 配置文件

# 日志配置
log:
  # 是否启用 Debug 模式 (true: 输出到控制台和文件, false: 只输出到文件)
  debug: true
  # 日志文件名
  filename: "session.log"

# Session 服务配置
session:
  # 服务名称
  service_name: "kim-session"
  
  # 服务 IP 地址
  ip: "127.0.0.1"
  
  # 服务端口
  port: 9001
  
  # Redis 配置
  redis:
    # Redis 连接地址 (格式: host:port)
    endpoint: "127.0.0.1:6379"
    # Redis 密码 (可选，如果 Redis 没有设置密码则留空)
    password: ""
    # Redis 数据库编号 (默认 0)
    db: 0
    # 连接池大小
    pool_size: 10
    # 最小空闲连接数
    min_idle_conns: 5
  
  # JWT 配置
  jwt:
    # JWT 密钥 (用于验证 token)
    secret: "your-secret-key-change-in-production"
  
  # 会话清理配置
  # 心跳超时时间（秒），超过此时间没有活跃的会话将被清理
  heartbeat_timeout: 300  # 5 分钟
  # 清理任务执行间隔（秒）
  cleanup_interval: 60  # 1 分钟
  # 清理批次大小（每次扫描的会话数量）
  cleanup_batch_size: 100

# 服务注册中心配置 (可选，如果不需要服务注册可以删除此部分)
registry:
  # 注册中心类型 (etcd/consul/zookeeper)
  type: "etcd"
  # 注册中心端点列表
  endpoints:
    - "127.0.0.1:2379"
  # 连接超时时间 (秒)
  timeout: 5

# KRPC 框架配置 (可选)
krpc:
  # 追踪配置
  trace:
    # 是否启用追踪
    enable: false
    # Jaeger 收集器地址
    url: "http://127.0.0.1:14268/api/traces"
    # 服务名称 (用于追踪)
    service_name: "kim-session"
    # 采样率 (0.0 - 1.0)
    sampler: 1.0

